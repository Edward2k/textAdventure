# Assignment 1

Word count: 3030 words

## Introduction									
Author(s): `Eduardo Lira, Theresa Schantz, Irene Garcia-Fortea Garcia`

Inspiration: [Original Zork game](https://textadventures.co.uk/games/play/5zyoqrsugeopel3ffhz_vq)

For our software project, we have decided to recreate the game Zork. Zork is one of the first Command Line PlayerClient.Interface (CLI), role playing games (RPG). The game is played through the terminal interface, by typing in text commands. There is no such as a graphical user interface with fancy graphics, only text. 

In Zork, a user assumes the role of a protagonist stuck in a post-apocalyptic world. The game starts at an empty house in the forest, and the player must find a way to get inside. After finding a way, the real adventure begins. Items must be collected, trolls must be fought, and rugs must be moved(, etc.). The commands to do so can be given by instructions, such as "move north", "take sword", "trun on lamp", "move rug", etc. To win the game, the protagonist must fight its way through *Zork* world in your terminal, colored by your imagination, in order to find all 20 treasures, and place them in the trophy case. 

After a plethora of discourse with the team, we have decided that our game, titled: **VUORK: Saving Thilo from the Chamber of Secrets**, will take place at the Vrije Universiteit Amsterdam. The user assumes the role of a newly enrolled student (user may choose the name) on his way to a 9AM lecture of Computer Programming. Albeit new, when the user arrives at the main campus of the VU, he notices something is wrong… This is where the game begins. 

After a brief introduction into the game, the user will discover he is alone at the VU, and the lecturer, Thilo, is lost in the Chamber of Secrets. He will then have to gather to puzzle pieces, each with a clue indicating where the next piece of the puzzle is, to find the chamber of secrets; where Thilo is held captive. 

**Mechanics:** To interact with the VUORK world, the user will use text commands in the CLI to give instructions. The instruction, given by the user, needs to have the form: “<action\> <items…*>”. The parser of the game transforms that instruction into something our system can understand: The parser trims the instruction by reading in the very first element of the input array as the *action* the player wants to take. The following elements of the array will be assigned to the variable *item*. By this, the system can call the corresponding function/take action to the wanted *action* and apply the items to it. If the instruction is ie. "move north", the system will trim the instruction into *action = move* and *item = north*. The function *movePlayer* will be called, the players y-coordinate will be moved one up (*y.coord =- 1*). The new position will be given to the map, which then returns the description of surrounding of the new coordinate on the terminal to the player. The way we implemented the parser which requires an user input to have this exact form, allows the system to have a concise and complete instruction. Limiting the input length prevents the user to be over the top and write too long instructions the system can't handle. Forcing the *action* to be the first position of the input makes it easy for the system to parse the command. Placing it randomly in the input would mean filtering and filtering means more time that is needed to execute a command, so this was a way to keep the implementation more simple and fast. 
Following and summing up, if the user types in a command, describing what he is doing/what he wants to do, he will get a response from the computer what he is now able to see, what has changed or if the move is not valid. Furthermore, instead of having a boring CLI as the realm, we added a few Graphical elements into the game. As an extra bonus, we implemented a chat function, through which the users can communicate with each other, if there are multiple users online. Examples include the players inventory, the current areas explored etc... Also note, that if the instruction does not meet the wanted requirements, it can't be handled and an error message will be printed to the user.

With the game briefly explained, we must now consider how to develop this idea in a way that is easily extendable, maintainable and comprehensible. By using the Object-Oriented programming paradigm, we aim to create a system that is easily modifiable, expandable and intuitive for programmers to understand. To help achieve this goal, we will be making use of UML diagrams. 

>A use case diagram of VUORK

![VuORK use case diagram](https://i.postimg.cc/MHv8yYTz/Bildschirmfoto-2020-03-30-um-16-05-03.png)


### Storyline

Our text adventure game is situated at the VU University, in which you will embark in a journey which goal is to rescue professor Thilo who is held against his will in the university's basement. The game is set at night time in which the player is a student coming back from a party at Uilenstede and suddenly receives a canvas notification of the event occured. The player will have to obtain a series of objects to fight back specific warnings, situated in different parts of the university in order to be able to win the game and save Thilo.

This adventure starts at the tram stop of the university campus in which lying on the ground is a wallet full of money. The player should keep that in the backpack we provide in order to complete his next challenges. As you proceed to the main entrance there is a security guard blocking his way, you must then bribe him with the wallet in order to be able to enter the university building. As you are inside the lobby, which has a north and south section due to its extensiveness, you encounter a doormat which you are able to lift and under it there is a key recommended to be kept in the backpack. You also can find rat poison which also comes out useful along the lines of the game. There are various trails here, you can head East and enter a mirror room in which in the case of you breaking the mirror you will immediately loose the game, but in the case of you not breaking it and continuing East you will find yourself in the TA office which you will not be able to enter due to the rats blocking you which you will have to kill with 4 rat poisons which are placed in different rooms.

 In the case you head North from the North side of the lobby you go north you can access the basement in which Thilo is held captive but the issue is the floor is wet so you are unable to get it, this shows your journey isn’t done so you will have to find a way to solve the problem in order to win. If you proceed south until you reach Spar, which is surprisingly open and with music still playing, despite your hunger and finding a pizza slice there you must keep it in your backpack for later. Continuing south there is the cafeteria in which you encounter with an angry chef after he was sent to cook at late hours of the night, and also a handy rat poison. Carrying on South you enter the church containing another useful rat poison. Heading East from the church you encounter the Donkey Kong room which is a jungle-looking room with a sleeping donkey kong that wakes up as soon as you enter. You will have to use your knife to attack it and be able to continue or else you will loose a life, putting you at risk to continue your adventure. The maintenance closet going East  contains a selection of items; a broom, bleach, gloves and night vision goggles, some of them will be of use in the game and others will just be decoy items. Unfortunately the entrance is full of rats so you will have to place a total of 4 rat poisons you collected throughout the journey in order to get in. After having a backpack full of maybe useful items or maybe not, you can head North into the computer room in which you will find a knife and a notebook. Continuing North you will enter the Aula where there are decorations for the upcoming graduation, this room doesn't affect the outcome of the game so just continue North into the fishbowl lecture hall which is also connected to the previously mentioned Mirror room, the fishbowl hall contains yet another rat poison, from here you can head North and you will enter into the student desk room in which you will be able to have a warm cup of coffee. Changing direction into East, from the fishbowl, you can enter the pitch dark TA office in which you will make use of the night vision goggles safely kept in your backpack in order to have a clear vision of what is inside. This rooms contains an employee card you will need in order to after have dried the entrance of the basement, you will use this card to open the door. The next and final rooms are a set of three bathrooms, in which one of the stalls contains an angry dog standing in front of the mop you need to dry the slippery floor of the basement. Thankfully you are able to give the dog the pizza slice in your backpack and that gives you enough time to distract him and get the mop you need. The last steps in order to win the game is go all the way to the basement which thanks to the employee card and mop you will be able to rescue Thilo.


The remainder of this paper will cover detailed features and quality requirements to help us structure this project (This should be self explanatory). 

**NB**: THE SYSTEM WILL BE INDEPENDENT FROM THE STORY LINE OUTLINED ABOVE. The idea is to create a system that can be *easily* adapted to any other storyline and easy to expand. 

## Features
Author(s): Marta Jansone, Theresa Schantz, Eduardo Lira, Irene Garcia-Fortea Garcia, Florent Brunet de Rochebrune 

### Functional features

As a preamble to the table, you can discuss the main line of reasoning you applied for defining the functional features provided in the table.

| ID   | Short name                   | Description                                                  |
| ---- | ---------------------------- | :----------------------------------------------------------- |
| F1   | Commands                     | The player will interact with the game using the command line interface. It is, thus, intrisically important to have a parser that will understand some simple semantics of langauge. For example, a command such as *"north"* should be equivilant to *walk north*. <br> After careful consideration, we have decided that our parser must have the input in the form of *<action\> <item(s)/objects(s) [proposition]...\*>*. An item may be preceeded by a proposition. For example, *"Put cheese in fridge"* or *"Attack bear with knife"*. The action put, will let the parser know that there will be 2 items, interupted by some proposition. Other actions, however, may exclude a propostion. An example is *"Take broom"* or *"Move north"*.<br>Emposing this structure will make it possible to parse natural language to something our system can understand. If the user, for any reason, excludes a second item in a 2-part command (such as attack), then the system will reply with *"What do you want to attack the <object\> with?"*, if the item is ommited. Or *"What do you want to attack?"*, if an object is omitted. If an invalid propositon is used, for example *"Attack monkey on knife"*, the parser should reply, *"I do not understand how to Attack monkey on knife"*<br> |
| F2   | Movements                    | The player must move around the virtual environment using *move* followed by a direction: *North, East, West, South*. These command will move the player to the next virtual area. |
| F3   | Narrator                     | The narrator is a way for the system to interact with the user: Let the user know what is going on. The narrator will describe the *field of view* of the player at any given time when: Moving between rooms, the command info is received. We define *field of view* as what all objects and properties of the immediate area around the user. That is, the area the user is currently in. For example, if the player is in a room that is dark, there is only an entrace to the west, and in this area, there lies a fridge, broom and coffee machine. The game would narrate *"You are in a dark room. The the west you see an opening to another area. In this room, you see a fridge, broom and coffee machine"*.  <br>There are also other commands available, which will have a special naration. For example, when picking up and object, the narrator will reply with a simple confirmation, simply repeating the action. If the action fails, the system should reply accordingly. <br>The command *diagnose* will trigger the narrator to list the health of the player. For example, you are wounded on your left hand, 80% health remaining<br>The command *inventory* will list all of the contents, without any specific ordering, the player currently has in their posession. |
| F4   | Game-info                    | The player can get the statistics with the command *stats*. The statistics include, time being played, current score (see F7). Furthermore, information about the current gamestate can be achieved with the use of special commands. See F3 for more info on these. |
| F5   | Map Initialisation from JSON | A way to create a world and its Items using a JSON file.     |
| F6   | Backpack                     | A list that keeps track of the items that have been picked up already. Also quite self explanatory. **Bonus:** Include an option to add a graphic for each item which can then be displayed as a backpack. |
| F7   | Score                        | The score will be an integer value which will be a numeric representation as to how well the player will is playing. It is calculated by summing the move with the total damage taken. Lower is better, much like in golf. |
| F8   | Moves                        | An integer that shows the number of moves at the top of the game as part of the text-based GUI. Always updated after an action. This is used immediatly display to the user how many steps the user has taken (and thus, how efficiently he is completing the game in). |
| F9   | Timer                        | A clock that shows the time that has already been passed since the start of the game. This will be in real time, just a little gimmick to add :) |
| F10  | Rooms                        | There is a specific number of rooms that the player can enter, each resembling a room at the VU. |
|      |                              |                                                              |

### Quality requirements

Author(s): Eduardo Lira, Irene Garcia-Fortea Garcia, Florent Brunet de Rochebrune

| ID  | Short name  | Quality attribute | Description  |
|---|---|---|---|
| QR1  | Check valid input | Correctness | Check if the move the user wants to do is possible at that time of the game and check whether the input was given in the correct syntax. If the command does not meet the requirement: an error message must be printed and/or the user must be asked to give a new input. |
| QR2 | Check valid command | Correctness | If the user gives a command that is legal, but is not applicable at the current state, the sytem should ALWAYS respond, in some form, that the input was correct, just not allowed in the current state of the game. |
| QR3 | Quick     responses to user input     | Responsiveness | The system must always respond to any input. It shall, thus, not be possible for the user to be able to input 2 seperate commands without a response from the system. The system should respond immediatly. |
| QR4 | Extensible world | Maintainability | The code should be well structured and organized; and the universe should not be closed. It should be an open story plot so more levels can be added later. Readable code will make it easier to implement such. |
| QR5 | User friendly | Usability | An introduction should explain how to play the game and how to give commands. The syntax shall be intuitive for any player. The help of text-based GUI will help give a visual display of current inventory, current layout of the explored map etc. |
| QR6 | Always respond to user inputs | Idempotence | All commands shall be idempotent; If a player drops an item, that item shall be dropped. |
| QR7 | Available actions | Availability | When an action is possible, it shall be able to be executed when requested by the user. |
| QR8 | User privacy & System security | Security | Not collecting any personal userdata. GDPR compliant. |

### Java libraries
Author(s): Marta Anna Jansone, Irene Garcia-Fortea Garcia

| Name (with link) | Description  |
|---|:-:|
| [StringUtils](https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html) | (STANDARD LIBRARY) Comparing strings. We will use this library to process user input and compare the input commands to the allowed commands stored in our game database (JSON). We choose to use this library as the strings can easily be compared using the ”==” sign. ... |
| [org.json](https://mvnrepository.com/artifact/org.json/json) | We will use it for reading JSON files that will contain the room descriptions in the game and the allowed commands, which the player can make. We chose this library as it provides functions to parse JSON objects to string for further string comparisons.  |
